<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>threejs学习</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        body { margin: 0; }


        div#canvas-frame {
            border: none;
            cursor: pointer;
            width: 100%;
            height: 600px;
        }

    </style>
    <script src="build/three.js"></script>
</head>
<body onload="threeInit();">
<div id="canvas-frame"></div>

<script type="application/javascript">
    var scene;
    function initScene() {
        scene = new THREE.Scene();
    }

    var camera;
    function initCamera(){
//        camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

        camera = new THREE.PerspectiveCamera(45, 4 / 3, 1, 1000);　　//透视投影相机参数设置

        camera.position.set(0, 0, 5);　　//相机位置设置

        camera.lookAt({
            x : 0,
            y : 0,
            z : 0
        });
    }

    var renderer;
    // 创建一个以外部盒子宽高的渲染器
    function initRenderer() {
        var width = document.getElementById('canvas-frame').clientWidth;
        var height = document.getElementById('canvas-frame').clientHeight;

        renderer = new THREE.WebGLRenderer({
            antialias : true
        });

        renderer.setClearColor(0x000000);
        renderer.setSize( width, height );
        document.getElementById('canvas-frame').appendChild( renderer.domElement );
    }

    var light;
    function initLight() {
        light = new THREE.AmbientLight(0xFFFFFF);
        light.position.set(100, 100, 200);
        scene.add(light);
        light = new THREE.PointLight(0x00FF00);
        light.position.set(0, 0,300);
        scene.add(light);
    }

    // 给场景添加物体
    function addGeometry(){
//        var material = new THREE.MeshBasicMaterial({　　//参数二：材质（网格基础材质）
//            color: 0xff0000　　//设置颜色
//        })
//        var geometry = new THREE.CubeGeometry(1, 2, 3); //创建网格，参数一：几何体（立方体）


//        var material = new THREE.MeshPhysicalMaterial({
//            color: 0xff0000　　//设置颜色
//        })


        var geometry = new THREE.CylinderGeometry( 100,150,400);
        var material = new THREE.MeshLambertMaterial( { color:0xff0000} );
        var cube = new THREE.Mesh(geometry,material);
        scene.add(cube);　　//添加到场景
    }


    // 添加实时更新
    function animationRender() {
        renderer.render(scene, camera);
        requestAnimationFrame(animationRender);
    }

    // 初始化
    var threeInit=function(){
        initScene()
        initCamera()
        initRenderer()

        initLight();
        addGeometry()

        // 动画
        animationRender()
    }

</script>
</body>
</html>